<!--
  @author Karen Camacho
  @createdate 2025/02/4
  Componente principal del CRUD dinámico. Administra la tabla y los modales de edición y visualización.
-->

<div class="dynamic-crud-container">

  <!-- Encabezado del CRUD -->
  <div class="header">
    <h2 class="title">{{ config?.title }}</h2>
    <p class="subtitle">{{ config?.subtitle }}</p>
  </div>

  <!-- Tabla (Componente hijo) -->
  <app-tabla 
    [config]="config"
    [items]="filteredItems"
    (editItem)="openModal($event)" 
    (deleteItem)="deleteItem($event)"
    (viewItem)="openModal($event, true)" 
    (newItem)="openModal()"> <!-- Abre el modal para crear un nuevo ítem -->
  </app-tabla>

  <!-- Modal de edición o visualización -->
  <app-formulario 
    *ngIf="isModalOpen"
    [config]="config"
    [selectedItem]="selectedItem"
    [isViewMode]="isViewMode"
    (close)="closeModal()"
    (save)="handleSave($event)"> <!-- Guarda el nuevo ítem o edita uno existente -->
  </app-formulario>

</div>
