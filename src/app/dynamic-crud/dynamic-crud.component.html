<!--
  @author Karen Camacho
  @createdate 2025/02/4
  Componente principal del CRUD din谩mico. Administra la tabla y los modales de edici贸n y visualizaci贸n.
-->

<div class="dynamic-crud-container">

  <!-- Encabezado del CRUD -->
  <div class="header">
    <h2 class="title">{{ config?.title }}</h2>
    <p class="subtitle">{{ config?.subtitle }}</p>
  </div>

  <!-- Tabla (Componente hijo) -->
  <app-tabla 
    [config]="config"
    [items]="filteredItems"
    [filters]="filters"
    (editItem)="openModal($event)" 
    (deleteItem)="deleteItem($event)"
    (viewItem)="openModal($event, true)" 
    (newItem)="openModal()"> <!-- Abre el modal para crear un nuevo 铆tem -->
  </app-tabla>

  <!-- Modal de edici贸n o visualizaci贸n -->
  <app-formulario 
    *ngIf="isModalOpen"
    [config]="config"
    [selectedItem]="selectedItem"
    [isViewMode]="isViewMode"
    (close)="closeModal()"
    (save)="handleSave($event)" 
    (filtersChanged)="handleFiltersChanged($event)"> <!--  Conectar filtros din谩micos -->

  </app-formulario>

</div>
